-- سبام اوامر مخفي | Z7F - النسخة النهائية السوداء
local TweenService = game:GetService("TweenService")

local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Parent = game.CoreGui
ScreenGui.Name = "Z7F_SilentSpammer"

-- خلفية سوداء نقية
local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 260, 0, 142)
MainFrame.Position = UDim2.new(0.5, -130, 0.5, -71)
MainFrame.BackgroundColor3 = Color3.new(0, 0, 0)  -- أسود 100%
MainFrame.BorderSizePixel = 0
MainFrame.Active = true
MainFrame.Draggable = true
MainFrame.Parent = ScreenGui
Instance.new("UICorner", MainFrame).CornerRadius = UDim.new(0, 13)

-- العنوان مائل لليسار شوي + لون بنفسجي فخم
local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(1, -10, 0, 36)
Title.Position = UDim2.new(0, 12, 0, 0)
Title.BackgroundTransparency = 1
Title.Text = "سبام اوامر مخفي | Z7F"
Title.TextColor3 = Color3.fromRGB(180, 0, 255)
Title.Font = Enum.Font.GothamBlack
Title.TextSize = 17
Title.TextXAlignment = Enum.TextXAlignment.Left
Title.Parent = MainFrame

-- زر X
local CloseBtn = Instance.new("TextButton")
CloseBtn.Size = UDim2.new(0, 28, 0, 28)
CloseBtn.Position = UDim2.new(1, -36, 0, 4)
CloseBtn.BackgroundColor3 = Color3.fromRGB(220, 20, 60)
CloseBtn.Text = "X"
CloseBtn.TextColor3 = Color3.new(1,1,1)
CloseBtn.Font = Enum.Font.GothamBold
CloseBtn.TextSize = 19
CloseBtn.Parent = MainFrame
Instance.new("UICorner", CloseBtn).CornerRadius = UDim.new(0, 9)
CloseBtn.MouseButton1Click:Connect(function() ScreenGui:Destroy() end)

-- زر _
local MinimizeBtn = Instance.new("TextButton")
MinimizeBtn.Size = UDim2.new(0, 28, 0, 28)
MinimizeBtn.Position = UDim2.new(1, -68, 0, 4)
MinimizeBtn.BackgroundColor3 = Color3.fromRGB(130, 0, 220)
MinimizeBtn.Text = "_"
MinimizeBtn.TextColor3 = Color3.new(1,1,1)
MinimizeBtn.Font = Enum.Font.GothamBold
MinimizeBtn.TextSize = 26
MinimizeBtn.Parent = MainFrame
Instance.new("UICorner", MinimizeBtn).CornerRadius = UDim.new(0, 9)

-- المحتوى
local Content = Instance.new("Frame")
Content.Size = UDim2.new(1, 0, 1, -36)
Content.Position = UDim2.new(0, 0, 0, 36)
Content.BackgroundTransparency = 1
Content.Parent = MainFrame

-- تكست بوكس الأمر مع "الأمر هنا" + يضيف . تلقائي
local CmdBox = Instance.new("TextBox")
CmdBox.Size = UDim2.new(0, 230, 0, 38)
CmdBox.Position = UDim2.new(0.5, -115, 0, 8)
CmdBox.BackgroundColor3 = Color3.fromRGB(22, 22, 33)
CmdBox.PlaceholderText = "الأمـر هـنـا"
CmdBox.Text = ""
CmdBox.TextColor3 = Color3.new(1,1,1)
CmdBox.Font = Enum.Font.Gotham
CmdBox.TextSize = 17
CmdBox.Parent = Content
Instance.new("UICorner", CmdBox).CornerRadius = UDim.new(0, 11)

-- إضافة . تلقائي قبل أي أمر
CmdBox.Focused:Connect(function()
    if CmdBox.Text == "" then
        CmdBox.Text = "."
    end
end)

CmdBox.FocusLost:Connect(function()
    if CmdBox.Text == "." then
        CmdBox.Text = ""
    elseif not CmdBox.Text:match("^%.") then
        CmdBox.Text = "." .. CmdBox.Text
    end
end)

-- منع كتابة أكثر من نقطة واحدة في البداية
CmdBox:GetPropertyChangedSignal("Text"):Connect(function()
    if CmdBox.Text:find("%.", 2) then
        CmdBox.Text = CmdBox.Text:gsub("%.+", ".")
    end
end)

-- بوكس السرعة (إنجليزي فقط)
local DelayBox = Instance.new("TextBox")
DelayBox.Size = UDim2.new(0, 74, 0, 38)
DelayBox.Position = UDim2.new(0, 14, 0, 58)
DelayBox.BackgroundColor3 = Color3.fromRGB(22, 22, 33)
DelayBox.Text = "0.0"
DelayBox.TextColor3 = Color3.fromRGB(200, 200, 200)
DelayBox.Font = Enum.Font.GothamBold
DelayBox.TextSize = 19
DelayBox.Parent = Content
Instance.new("UICorner", DelayBox).CornerRadius = UDim.new(0, 11)

-- تقييد السرعة للأرقام الإنجليزية فقط
DelayBox.Focused:Connect(function()
    if DelayBox.Text == "0.0" then DelayBox.Text = "" end
end)
DelayBox:GetPropertyChangedSignal("Text"):Connect(function()
    DelayBox.Text = DelayBox.Text:gsub("[^0-9%.]", "")
end)

-- زر التفعيل
local SpamBtn = Instance.new("TextButton")
SpamBtn.Size = UDim2.new(0, 140, 0, 38)
SpamBtn.Position = UDim2.new(1, -154, 0, 58)
SpamBtn.BackgroundColor3 = Color3.fromRGB(130, 0, 220)
SpamBtn.Text = "تفعيل سبام"
SpamBtn.TextColor3 = Color3.new(1,1,1)
SpamBtn.Font = Enum.Font.GothamBold
SpamBtn.TextSize = 17
SpamBtn.Parent = Content
Instance.new("UICorner", SpamBtn).CornerRadius = UDim.new(0, 11)

-- المتغيرات
local spamming = false
local currentDelay = 0.2

-- تحديث السرعة
DelayBox.FocusLost:Connect(function()
    local num = tonumber(DelayBox.Text)
    if num and num > 0 then
        currentDelay = num
    else
        DelayBox.Text = "0.0"
        currentDelay = 0.2
    end
end)

-- إيقاف تلقائي لو حذفت الأمر
CmdBox:GetPropertyChangedSignal("Text"):Connect(function()
    if spamming and (CmdBox.Text == "" or CmdBox.Text == ".") then
        spamming = false
        SpamBtn.Text = "تفعيل سبام"
        SpamBtn.BackgroundColor3 = Color3.fromRGB(130, 0, 220)
    end
end)

-- تصغير
local min = false
MinimizeBtn.MouseButton1Click:Connect(function()
    if not min then
        TweenService:Create(MainFrame, TweenInfo.new(0.28), {Size = UDim2.new(0,260,0,36)}):Play()
        Content.Visible = false
        min = true
    else
        Content.Visible = true
        TweenService:Create(MainFrame, TweenInfo.new(0.28), {Size = UDim2.new(0,260,0,142)}):Play()
        min = false
    end
end)

-- تفعيل السبام المخفي
SpamBtn.MouseButton1Click:Connect(function()
    if CmdBox.Text == "" or CmdBox.Text == "." then return end

    spamming = not spamming
    if spamming then
        SpamBtn.Text = "إيقاف السبام"
        SpamBtn.BackgroundColor3 = Color3.fromRGB(255, 0, 100)

        spawn(function()
            while spamming do
                local d = currentDelay
                if d < 0.03 then d = 0.03 end
                if not CmdBox.Text:match("^%.") then break end

                local fullCmd = CmdBox.Text

                pcall(function()
                    game:GetService("ReplicatedStorage")
                        :WaitForChild("HDAdminHDClient")
                        :WaitForChild("Signals")
                        :WaitForChild("RequestCommandSilent")
                        :InvokeServer(fullCmd)
                end)
                task.wait(d)
            end
            if SpamBtn and SpamBtn.Parent then
                SpamBtn.Text = "تفعيل سبام"
                SpamBtn.BackgroundColor3 = Color3.fromRGB(130, 0, 220)
            end
        end)
    end
end)

-- إنتر = تفعيل
CmdBox.FocusLost:Connect(function(enter)
    if enter and CmdBox.Text ~= "" and CmdBox.Text ~= "." then
        SpamBtn.MouseButton1Click:Fire()
    end
end)

print("سبام اوامر مخفي | Z7F - جاهز للتفجير يا أسطورة")
