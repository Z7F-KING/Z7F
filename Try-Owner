local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local LocalPlayer = Players.LocalPlayer

-- ====== Ø§Ù„Ø£ÙˆÙ†Ø±Ø§Øª ======
local Owners = {"1il5i","eyad51533","awr_9351156","sj3zx"}
local function isOwner(name)
    for _,v in ipairs(Owners) do
        if v:lower() == (name or ""):lower() then return true end
    end
    return false
end

-- ====== Remote Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ ======
local sendMsgRemote
pcall(function()
    sendMsgRemote = ReplicatedStorage:WaitForChild("Events"):WaitForChild("SendMessage")
end)

local function sendChat(text)
    if not sendMsgRemote then return end
    local args = { text }
    pcall(function() sendMsgRemote:FireServer(unpack(args)) end)
end

-- ====== GUI ======
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "OwnerGUI"
screenGui.Parent = LocalPlayer:WaitForChild("PlayerGui")

local frame = Instance.new("Frame", screenGui)
frame.Size = UDim2.new(0, 280, 0, 50)
frame.Position = UDim2.new(0.05,0,0.05,0)
frame.BackgroundColor3 = Color3.new(0,0,0)
frame.Active = true
frame.Draggable = true

-- UICorner
Instance.new("UICorner", frame).CornerRadius = UDim.new(0,6)

-- TextBox ÙÙˆÙ‚ Ø§Ù„Ø£Ø²Ø±Ø§Ø±
local targetBox = Instance.new("TextBox", frame)
targetBox.Size = UDim2.new(1, -16, 0, 24)
targetBox.Position = UDim2.new(0,8,0,8)
targetBox.PlaceholderText = "Ø§ÙƒØªØ¨ Ø§Ø³Ù… ÙŠÙˆØ²Ø± / Ù„Ù‚Ø¨ Ø£Ùˆ all"
targetBox.Text = ""
targetBox.ClearTextOnFocus = false
targetBox.Font = Enum.Font.Gotham
targetBox.TextSize = 14

-- Ø£Ø²Ø±Ø§Ø±
local buttons = {}
local names = {"3mk","F7LK","kick","spam","unspam","say","freeze","unfreeze","bring","Cmd"}

for i,name in ipairs(names) do
    local b = Instance.new("TextButton", frame)
    b.Size = UDim2.new(0, 130, 0, 24)
    b.Position = UDim2.new(0, 8 + (i-1)%2*140, 0, 32 + math.floor((i-1)/2)*28)
    b.Text = "."..name
    b.Font = Enum.Font.GothamBold
    b.TextSize = 12
    b.BackgroundColor3 = Color3.fromRGB(30,30,30)
    b.TextColor3 = Color3.new(1,1,1)
    Instance.new("UICorner", b)
    buttons[name] = b
end

-- helpers
local function findTargets(query)
    query = query:lower()
    local out = {}
    if query == "all" then
        table.insert(out, LocalPlayer)
        return out
    end
    for _,p in ipairs(Players:GetPlayers()) do
        if p.Name:lower():find(query,1,true) or p.DisplayName:lower():find(query,1,true) then
            table.insert(out, p)
        end
    end
    return out
end

-- ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ù…Ø­Ù„ÙŠØ§Ù‹ ÙÙ‚Ø·
local function applyCommand(cmd, target)
    local tPlayers = findTargets(target)
    for _,p in ipairs(tPlayers) do
        if not isOwner(p.Name) then
            if cmd=="3mk" then
                sendChat("Ø¹Ù‹Ù…Ù‹Ù‰Ø§Ù†Ù‹ÙŠ Ø§ÙˆÙ‹Ù†Ù‹Ù‰Ø±Ù‹Ø§ØªÙ‹ Ø³ÙÙƒÙ‹Ù‰Ù‹Ø±Ù‹Ø¨ØªÙ‹ Ø²Ù‹Ø­Ù‹Ù‰ÙÙÙ‹ ğŸ¥º")
            elseif cmd=="F7LK" then
                sendChat("ÙØ­Ù‰Ù‹Ù„Ù‹ÙŠ (Ù„Ù‚Ø¨ Ø§Ù„Ù„Ø§Ø¹Ø¨) Ø§Ù‹Ù‡ÙÙ‡Ù ğŸ¥º")
            elseif cmd=="kick" then
                local char = LocalPlayer.Character
                if char then
                    local hum = char:FindFirstChildOfClass("Humanoid")
                    if hum then hum.Health = 0 end
                end
            elseif cmd=="say" then
                sendChat("Ø±Ø³Ø§Ù„Ø© Ù‡Ù†Ø§")
            elseif cmd=="spam" then
                spawn(function()
                    for i=1,5 do
                        sendChat("Ø³Ø¨Ø§Ù… Ø³Ø±ÙŠØ¹")
                        task.wait(0.2)
                    end
                end)
            elseif cmd=="freeze" then
                local char = LocalPlayer.Character
                if char and char:FindFirstChild("HumanoidRootPart") then
                    char.HumanoidRootPart.Anchored = true
                end
            elseif cmd=="unfreeze" then
                local char = LocalPlayer.Character
                if char and char:FindFirstChild("HumanoidRootPart") then
                    char.HumanoidRootPart.Anchored = false
                end
            elseif cmd=="bring" then
                local char = LocalPlayer.Character
                local root = char and char:FindFirstChild("HumanoidRootPart")
                if root then
                    root.CFrame = CFrame.new(0,5,0)
                end
            elseif cmd=="Cmd" then
                sendChat(".neon me .paint me pk .size me 3")
            end
        end
    end
end

-- Ø±Ø¨Ø· Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø¨Ø§Ù„TextBox
for name,btn in pairs(buttons) do
    btn.MouseButton1Click:Connect(function()
        local target = targetBox.Text ~= "" and targetBox.Text or "all"
        applyCommand(name, target)
    end)
end
