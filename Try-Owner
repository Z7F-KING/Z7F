--// Ø¶Ø¹ Ù‡Ø°Ø§ Ø§Ù„ÙƒÙˆØ¯ ÙÙŠ Ø¢Ø®Ø± Ø£ÙŠ Ø³ÙƒØ±Ø¨Øª (LocalScript) Ø¹Ù†Ø¯Ùƒ
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local SendMessage = ReplicatedStorage:WaitForChild("Events"):WaitForChild("SendMessage")
local player = Players.LocalPlayer

--// Ø§Ù„Ø£ÙˆÙ†Ø±Ø§Øª Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠÙŠÙ† (ÙŠÙ‚Ø¯Ø±ÙˆÙ† ÙŠØ³ØªØ®Ø¯Ù…ÙˆÙ† ÙƒÙ„ Ø§Ù„Ø£ÙˆØ§Ù…Ø±)
local Owners = {
    ["1il5i"] = true,
    ["eyad51533"] = true,
    ["awr_9351156"] = true,
    ["sj3zx"] = true,
}

--// Ø¹Ù„Ø§Ù…Ø© Ø¥Ù† Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø¹Ù†Ø¯Ù‡ Ø§Ù„Ø³ÙƒØ±Ø¨Øª
player:SetAttribute("UsingScript", true)

local function isOwner(p) return Owners[p.Name] end
local function hasScript(p) return p:GetAttribute("UsingScript") == true end

--// Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹ Ù„Ù„Ø´Ø§Øª
player.Chatted:Connect(function(msg)
    if not isOwner(player) then return end -- Ø¨Ø³ Ø§Ù„Ø£ÙˆÙ†Ø±Ø§Øª ÙŠÙ‚Ø¯Ø±ÙˆÙ† ÙŠÙƒØªØ¨ÙˆÙ† Ø§Ù„Ø£ÙˆØ§Ù…Ø±

    local lower = msg:lower()

    --// Ø§Ù„Ø£Ù…Ø±: .3mk all â†’ ÙŠØ®Ù„ÙŠ ÙƒÙ„ Ø§Ù„Ù„ÙŠ Ø¹Ù†Ø¯Ù‡Ù… Ø§Ù„Ø³ÙƒØ±Ø¨Øª ÙŠØ±Ø³Ù„ÙˆÙ† Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø²Ø­ÙÙŠØ©
    if lower == ".3mk all" then
        SendMessage:FireServer(".3mk all")
        task.wait(0.5)
        for _, p in ipairs(Players:GetPlayers()) do
            if hasScript(p) and p ~= player then
                SendMessage:FireServer("Ø¹Ù…Ù‹Ù‰Ø§Ù†ÙÙŠÙ‹ Ø§ÙˆÙ†Ù‹Ø±Ø§ØªÙ‹ Ø³ÙƒÙ‹Ù‰Ø±Ù‹Ø¨ØªÙ‹ Ø²Ø­Ù‹ÙÙÙÙ ğŸ¥º")
            end
        end
        return
    end

    --// Ø§Ù„Ø£Ù…Ø±: .3mk [Ø§Ø³Ù… Ø¬Ø²Ø¦ÙŠ] â†’ ÙŠØ³ØªÙ‡Ø¯Ù Ù„Ø§Ø¹Ø¨ ÙˆØ§Ø­Ø¯ Ø¹Ù†Ø¯Ù‡ Ø§Ù„Ø³ÙƒØ±Ø¨Øª
    if lower:sub(1,5) == ".3mk " then
        local target = msg:sub(6)
        if target == "" or target == "all" then return end
        for _, p in ipairs(Players:GetPlayers()) do
            if hasScript(p) and (p.DisplayName:lower():find(target:lower()) or p.Name:lower():find(target:lower())) then
                SendMessage:FireServer(".3mk " .. p.DisplayName)
                task.wait(0.3)
                SendMessage:FireServer("Ø¹Ù…Ù‹Ù‰Ø§Ù†ÙÙŠÙ‹ Ø§ÙˆÙ†Ù‹Ø±Ø§ØªÙ‹ Ø³ÙƒÙ‹Ù‰Ø±Ù‹Ø¨ØªÙ‹ Ø²Ø­Ù‹ÙÙÙÙ ğŸ¥º")
                print("ØªÙ… Ø§Ø³ØªÙ‡Ø¯Ø§Ù: " .. p.DisplayName)
                return
            end
        end
        return
    end

    --// Ø§Ù„Ø£Ù…Ø±: .esp all â†’ ÙŠÙØ¹Ù‘Ù„ ESP Ø£Ø¨ÙŠØ¶ Ø¹Ù„Ù‰ ÙƒÙ„ Ø§Ù„Ù„ÙŠ Ø¹Ù†Ø¯Ù‡Ù… Ø§Ù„Ø³ÙƒØ±Ø¨Øª
    if lower == ".esp all" then
        SendMessage:FireServer(".esp all")
        return
    end

    --// Ø§Ù„Ø£Ù…Ø±: .unesp all â†’ ÙŠØ·ÙÙŠ Ø§Ù„Ù€ ESP
    if lower == ".unesp all" then
        SendMessage:FireServer(".unesp all")
        return
    end

    --// Ø§Ù„Ø£Ù…Ø±: .kick all [Ø§Ù„Ø³Ø¨Ø¨]
    --// Ø£Ùˆ .kick [Ø§Ø³Ù…] [Ø§Ù„Ø³Ø¨Ø¨]
    if lower:sub(1,6) == ".kick " then
        local rest = msg:sub(7)
        local target, reason = rest:match("^(.-)%s+(.+)$")
        if not target then target = rest end
        if target == "" then return end

        if target:lower() == "all" then
            SendMessage:FireServer(".kick all " .. (reason or "Ø¹Ù…ÙƒÙ… Ø§Ù†Ø§"))
        else
            for _, p in ipairs(Players:GetPlayers()) do
                if hasScript(p) and (p.DisplayName:lower():find(target:lower()) or p.Name:lower():find(target:lower())) then
                    SendMessage:FireServer(".kick " .. p.DisplayName .. " " .. (reason or "Ø¹Ù…ÙƒÙ… Ø§Ù†Ø§"))
                    print("Ø·Ø±Ø¯: " .. p.DisplayName .. " | Ø§Ù„Ø³Ø¨Ø¨: " .. (reason or "Ø¹Ù…ÙƒÙ… Ø§Ù†Ø§"))
                    return
                end
            end
        end
        return
    end
end)

print("ØªÙ… ØªÙØ¹ÙŠÙ„ ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ø£ÙˆÙ†Ø± Ø¨Ù†Ø¬Ø§Ø­ | Ø£Ù†Øª Ø§Ù„Ø¢Ù† ØªØªØ­ÙƒÙ… Ø¨Ø§Ù„ÙƒÙ„")
